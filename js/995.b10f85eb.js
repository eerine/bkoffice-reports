"use strict";(self["webpackChunkvue_moleq_backoffice"]=self["webpackChunkvue_moleq_backoffice"]||[]).push([[995],{1917:function(e,t,a){a.d(t,{A:function(){return g}});var s=a(641),i=a(3751),l=a(33);const n={class:"date-type-wrapper"},o={class:"filter-btn"},r=(0,s.Lk)("span",{id:"date-selection"},"Date Range",-1),d={class:"display-selection-wrapper"},p=["value","id","checked"],c=["for"];function u(e,t,a,u,h,y){const m=(0,s.g2)("fa"),k=(0,s.g2)("popup");return(0,s.uX)(),(0,s.CE)("div",n,[(0,s.bF)(k,{class:"filter-popup-wrapper"},{header:(0,s.k6)((()=>[(0,s.Lk)("button",o,[r,(0,s.bF)(m,{icon:"angle-down"})])])),content:(0,s.k6)((()=>[(0,s.Lk)("div",d,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(h.types,(e=>((0,s.uX)(),(0,s.CE)("span",{key:e.id},[(0,s.bo)((0,s.Lk)("input",{type:"radio",name:"date_type",value:e.name,"onUpdate:modelValue":t[0]||(t[0]=e=>y.checkedDateType=e),onChange:t[1]||(t[1]=(...e)=>y.selectedDateType&&y.selectedDateType(...e)),id:e.id,checked:h.currentDateType==e.name},null,40,p),[[i.XL,y.checkedDateType]]),(0,s.bF)(m,{class:"checkmark",icon:"check"}),(0,s.Lk)("label",{for:e.id},(0,l.v_)(e.name),9,c)])))),128))])])),_:1})])}var h=a(5093),y=a.n(h),m=a(5987),k={components:{Popup:m.A},props:{currentStartDate:{type:[String,Number,Date],default:""},currentEndDate:{type:[String,Number,Date],default:""},defaultDateType:{type:String,default:"Date Range"}},data(){return{types:[{id:"single",name:"Single Date"},{id:"range",name:"Date Range"},{id:"today",name:"Today"},{id:"week",name:"This Week"}],currentDateType:this.defaultDateType}},watch:{defaultDateType:function(){this.currentDateType=this.defaultDateType},currentStartDate:function(){const e=y()(this.currentStartDate).format("MMM DD, yyyy"),t=y()(this.currentEndDate).format("MMM DD, yyyy"),a=y()().startOf("day").format("MMM DD, yyyy"),s=y()().startOf("week").format("MMM DD, yyyy"),i=y()().endOf("week").format("MMM DD, yyyy");"Today"==this.currentDateType?e!=a&&(this.currentDateType="Single Date"):"This Week"==this.currentDateType?e!=s&&(this.currentDateType="Date Range"):"Date Range"==this.currentDateType?e==s&&t==i&&(this.currentDateType="This Week"):"Single Date"==this.currentDateType&&e==a&&(this.currentDateType="Today");var l=this.currentDateType,n=document.querySelector('input[name="date_type"]:checked'),o=document.querySelector("#date-selection");n&&(l=document.querySelector('label[for="'+n.id+'"]').innerHTML),o.innerHTML=l},currentEndDate:function(){const e=y()(this.currentStartDate).format("MMM DD, yyyy"),t=y()(this.currentEndDate).format("MMM DD, yyyy"),a=y()().endOf("week").format("MMM DD, yyyy"),s=y()().startOf("week").format("MMM DD, yyyy");"This Week"==this.currentDateType?t!=a&&(this.currentDateType="Date Range"):"Date Range"==this.currentDateType&&e==s&&t==a&&(this.currentDateType="This Week");var i=this.currentDateType,l=document.querySelector('input[name="date_type"]:checked'),n=document.querySelector("#date-selection");l&&(i=document.querySelector('label[for="'+l.id+'"]').innerHTML),n.innerHTML=i}},methods:{selectedDateType(){if("Single Date"==this.currentDateType)this.$emit("changeStartDate","");else if("Date Range"==this.currentDateType)this.$emit("changeStartDate",""),this.$emit("changeEndDate","");else if("Today"==this.currentDateType){const e=y()().startOf("day").toDate();this.$emit("changeStartDate",e)}else if("This Week"==this.currentDateType){const e=y()().startOf("week").toDate(),t=y()().endOf("week").toDate();this.$emit("changeStartDate",e),this.$emit("changeEndDate",t)}var e="Nothing selected",t=document.querySelector('input[name="date_type"]:checked'),a=document.querySelector("#date-selection");t&&(e=document.querySelector('label[for="'+t.id+'"]').innerHTML),a.innerHTML=e}},computed:{checkedDateType:{get(){return this.currentDateType},set(e){this.currentDateType=e,this.$emit("changeDateType",e)}}}},D=a(6262);const f=(0,D.A)(k,[["render",u]]);var g=f},2438:function(e,t,a){a.r(t),a.d(t,{default:function(){return Pe}});var s=a(641),i=a(33),l=a(3751),n=a(517);const o={class:"item-sales-wrapper container"},r={key:0,class:"loading-overlay"},d=(0,s.Lk)("div",{class:"overlay-content"},[(0,s.Lk)("img",{src:n,style:{width:"60px"}})],-1),p=[d],c={class:"content-wrapper"},u={class:"filter-toggle-wrapper",ref:"toggleFilter"},h={class:"filter-content-wrapper"},y={class:"filter-btn"},m={id:"store-selection"},k={class:"display-selection-wrapper"},D=["id","value"],f=["for"],g={class:"filter-header"},v={class:"filter-popup-container"},b={class:"filter-btn"},L=(0,s.Lk)("span",null,[(0,s.Lk)("span",{id:"display-selection"},"Daily")],-1),T={class:"display-selection-wrapper"},w=(0,s.Lk)("label",{for:"display-daily"},"Daily",-1),C=(0,s.Lk)("label",{for:"display-weekly"},"Weekly",-1),_=(0,s.Lk)("label",{for:"display-monthly"},"Monthly",-1),S={class:"filter-btn"},F=(0,s.Lk)("span",null,[(0,s.Lk)("span",{id:"num-selection"},"Item #")],-1),E={class:"num-selection-wrapper"},I=(0,s.Lk)("label",{for:"item-num"},"Item #",-1),X=(0,s.Lk)("label",{for:"upc"},"UPC",-1),M={key:0,class:"invalid-search-msg"},A=(0,s.Lk)("span",null,"Invalid date range",-1),x={key:0,class:"calendar-wrapper"},N={key:1,class:"calendar-wrapper"},R=(0,s.Lk)("label",{class:"filter-label"},"Search By",-1),q={class:"type-select"},O={class:"filter-btn"},U=(0,s.Lk)("span",null,[(0,s.Lk)("span",{id:"filter-selection"},"UPC")],-1),V={class:"num-selection-wrapper"},H=(0,s.Lk)("label",{for:"item-num"},"Item #",-1),Q=(0,s.Lk)("label",{for:"upc"},"UPC",-1),K=(0,s.Lk)("label",{for:"dept-cat"},"Group of Items",-1),Y=(0,s.Lk)("label",{for:"special"},"Special",-1),$={key:0,class:"filter-desc"},W={key:0,class:"invalid-search-msg"},P={key:0,class:"filter-option"},B={key:0,class:"filter-option text-input"},z={key:0,class:"filter-option"},G=(0,s.Lk)("span",null,"Type",-1),J=["value"],j=(0,s.Lk)("span",null,"Category",-1),Z=(0,s.Lk)("option",{value:""},"--",-1),ee=["value"],te=(0,s.Lk)("span",null,"Department",-1),ae=(0,s.Lk)("option",{value:""},"--",-1),se=["value"],ie={key:0,class:"filter-option special-filter"},le=(0,s.Lk)("option",{value:""},"--",-1),ne=["value"],oe=["value"],re=["value"],de=["value"],pe=["value"],ce={key:0,class:"no-results"},ue={key:1,class:"item-sales-list-wrapper"},he=(0,s.Lk)("h5",null,"Item Sales List",-1),ye=["onClick"],me={key:0},ke={key:1},De={class:"item-list-wrapper"},fe=(0,s.Lk)("h5",null,"Item Sales List",-1),ge=["onClick"],ve={key:0},be={key:1},Le={class:"table-header-wrapper"},Te={class:"table-header"},we={key:0},Ce={key:1},_e={class:"table-btn-group"},Se={class:"print-btn btn btn-circle",onclick:"window.print()"},Fe=["id"],Ee={key:0},Ie={key:1},Xe=(0,s.Lk)("p",{class:"bold-600"},"Total",-1),Me={class:"bold-600"},Ae={class:"bold-600"},xe={class:"bold-600"};function Ne(e,t,a,n,d,Ne){const Re=(0,s.g2)("Header"),qe=(0,s.g2)("fa"),Oe=(0,s.g2)("popup"),Ue=(0,s.g2)("DateType"),Ve=(0,s.g2)("DatePicker"),He=(0,s.g2)("Column"),Qe=(0,s.g2)("DataTable");return(0,s.uX)(),(0,s.CE)("div",o,[d.loading?((0,s.uX)(),(0,s.CE)("div",r,p)):(0,s.Q3)("",!0),(0,s.bF)(Re),(0,s.Lk)("div",c,[(0,s.Lk)("div",u,[(0,s.Lk)("span",null,[(0,s.Lk)("button",{class:(0,i.C4)(["filter-toggle",d.isFilterActive?"collasped":""]),onClick:t[0]||(t[0]=e=>Ne.toggleFilter())},[(0,s.bF)(qe,{icon:["fas","sliders"]})],2)]),(0,s.Lk)("div",{class:(0,i.C4)(["filter-wrapper",[d.isFilterActive?"slide-in":"slide-out"]])},[(0,s.Lk)("div",h,[(0,s.bF)(Oe,{class:"filter-popup-wrapper stores-popup"},{header:(0,s.k6)((()=>[(0,s.Lk)("button",y,[(0,s.Lk)("span",m,(0,i.v_)(d.selectedCompanies.companyName),1),(0,s.bF)(qe,{icon:"angle-down"})])])),content:(0,s.k6)((()=>[(0,s.Lk)("div",k,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(d.companies,(e=>((0,s.uX)(),(0,s.CE)("span",{key:e.id},[(0,s.bo)((0,s.Lk)("input",{type:"radio",name:"store_type",id:e.id,value:e,"onUpdate:modelValue":t[1]||(t[1]=e=>d.selectedCompanies=e),onChange:t[2]||(t[2]=(...e)=>Ne.selectedStore&&Ne.selectedStore(...e))},null,40,D),[[l.XL,d.selectedCompanies]]),(0,s.bF)(qe,{class:"checkmark",icon:"check"}),(0,s.Lk)("label",{for:e.id},(0,i.v_)(e.companyName),9,f)])))),128))])])),_:1}),(0,s.Lk)("div",g,[(0,s.Lk)("div",v,[(0,s.bF)(Oe,{class:"filter-popup-wrapper"},{header:(0,s.k6)((()=>[(0,s.Lk)("button",b,[L,(0,s.bF)(qe,{icon:"angle-down"})])])),content:(0,s.k6)((()=>[(0,s.Lk)("div",T,[(0,s.Lk)("span",null,[(0,s.bo)((0,s.Lk)("input",{type:"radio",name:"display_type",value:"D","onUpdate:modelValue":t[3]||(t[3]=e=>d.displayType=e),onChange:t[4]||(t[4]=(...e)=>Ne.selectedDisplayType&&Ne.selectedDisplayType(...e)),id:"display-daily"},null,544),[[l.XL,d.displayType]]),(0,s.bF)(qe,{class:"checkmark",icon:"check"}),w]),(0,s.Lk)("span",null,[(0,s.bo)((0,s.Lk)("input",{type:"radio",name:"display_type",value:"W","onUpdate:modelValue":t[5]||(t[5]=e=>d.displayType=e),onChange:t[6]||(t[6]=(...e)=>Ne.selectedDisplayType&&Ne.selectedDisplayType(...e)),id:"display-weekly"},null,544),[[l.XL,d.displayType]]),(0,s.bF)(qe,{class:"checkmark",icon:"check"}),C]),(0,s.Lk)("span",null,[(0,s.bo)((0,s.Lk)("input",{type:"radio",name:"display_type",value:"M","onUpdate:modelValue":t[7]||(t[7]=e=>d.displayType=e),onChange:t[8]||(t[8]=(...e)=>Ne.selectedDisplayType&&Ne.selectedDisplayType(...e)),id:"display-monthly"},null,544),[[l.XL,d.displayType]]),(0,s.bF)(qe,{class:"checkmark",icon:"check"}),_])])])),_:1}),(0,s.bF)(Oe,{class:"filter-popup-wrapper"},{header:(0,s.k6)((()=>[(0,s.Lk)("button",S,[F,(0,s.bF)(qe,{icon:"angle-down"})])])),content:(0,s.k6)((()=>[(0,s.Lk)("div",E,[(0,s.Lk)("span",null,[(0,s.bo)((0,s.Lk)("input",{type:"radio",name:"show_item",value:"Y","onUpdate:modelValue":t[9]||(t[9]=e=>d.showItem=e),onChange:t[10]||(t[10]=(...e)=>Ne.selectedShowNum&&Ne.selectedShowNum(...e)),id:"item-num",checked:"checked"},null,544),[[l.XL,d.showItem]]),(0,s.bF)(qe,{class:"checkmark",icon:"check"}),I]),(0,s.Lk)("span",null,[(0,s.bo)((0,s.Lk)("input",{type:"radio",name:"show_item",value:"N","onUpdate:modelValue":t[11]||(t[11]=e=>d.showItem=e),onChange:t[12]||(t[12]=(...e)=>Ne.selectedShowNum&&Ne.selectedShowNum(...e)),id:"upc"},null,544),[[l.XL,d.showItem]]),(0,s.bF)(qe,{class:"checkmark",icon:"check"}),X])])])),_:1})]),(0,s.Lk)("button",{class:"search-btn btn btn-square",onClick:t[13]||(t[13]=(...e)=>Ne.searchWithFilter&&Ne.searchWithFilter(...e))},[(0,s.bF)(qe,{icon:"magnifying-glass"})])]),(0,s.bF)(Ue,{onChangeDateType:t[14]||(t[14]=e=>d.dateType=e),onChangeStartDate:t[15]||(t[15]=e=>d.startDate=e),onChangeEndDate:t[16]||(t[16]=e=>d.endDate=e),currentStartDate:d.startDate,currentEndDate:d.endDate},null,8,["currentStartDate","currentEndDate"]),(0,s.bF)(l.eB,{name:"fade"},{default:(0,s.k6)((()=>[d.invalidDateRange?((0,s.uX)(),(0,s.CE)("p",M,[(0,s.bF)(qe,{icon:"triangle-exclamation"}),A])):(0,s.Q3)("",!0)])),_:1}),"Single Date"==d.dateType||"Today"==d.dateType?((0,s.uX)(),(0,s.CE)("div",x,[(0,s.bF)(Ve,{onChangeDateValue:t[17]||(t[17]=e=>d.startDate=e),defaultDate:d.startDate,labelEnableText:"Date"},null,8,["defaultDate"])])):(0,s.Q3)("",!0),"Date Range"==d.dateType||"This Week"==d.dateType?((0,s.uX)(),(0,s.CE)("div",N,[(0,s.bF)(Ve,{onChangeDateValue:t[18]||(t[18]=e=>d.startDate=e),defaultDate:d.startDate,startDate:d.endDate,labelEnableText:"From"},null,8,["defaultDate","startDate"]),(0,s.bF)(Ve,{onChangeDateValue:t[19]||(t[19]=e=>d.endDate=e),defaultDate:d.endDate,startDate:d.startDate,alwaysStartDate:!0,labelEnableText:"To"},null,8,["defaultDate","startDate"])])):(0,s.Q3)("",!0),R,(0,s.Lk)("div",null,[(0,s.Lk)("div",q,[(0,s.bF)(Oe,{class:"filter-popup-wrapper"},{header:(0,s.k6)((()=>[(0,s.Lk)("button",O,[U,(0,s.bF)(qe,{icon:"angle-down"})])])),content:(0,s.k6)((()=>[(0,s.Lk)("div",V,[(0,s.Lk)("span",null,[(0,s.bo)((0,s.Lk)("input",{type:"radio",name:"select_filter",value:"Item #","onUpdate:modelValue":t[20]||(t[20]=e=>d.selectedType=e),onChange:t[21]||(t[21]=(...e)=>Ne.selectedFilterType&&Ne.selectedFilterType(...e)),id:"item-num",checked:"checked"},null,544),[[l.XL,d.selectedType]]),(0,s.bF)(qe,{class:"checkmark",icon:"check"}),H]),(0,s.Lk)("span",null,[(0,s.bo)((0,s.Lk)("input",{type:"radio",name:"select_filter",value:"UPC","onUpdate:modelValue":t[22]||(t[22]=e=>d.selectedType=e),onChange:t[23]||(t[23]=(...e)=>Ne.selectedFilterType&&Ne.selectedFilterType(...e)),id:"upc"},null,544),[[l.XL,d.selectedType]]),(0,s.bF)(qe,{class:"checkmark",icon:"check"}),Q]),(0,s.Lk)("span",null,[(0,s.bo)((0,s.Lk)("input",{type:"radio",name:"select_filter",value:"Group of Items","onUpdate:modelValue":t[24]||(t[24]=e=>d.selectedType=e),onChange:t[25]||(t[25]=(...e)=>Ne.selectedFilterType&&Ne.selectedFilterType(...e)),id:"dept-cat"},null,544),[[l.XL,d.selectedType]]),(0,s.bF)(qe,{class:"checkmark",icon:"check"}),K]),(0,s.Lk)("span",null,[(0,s.bo)((0,s.Lk)("input",{type:"radio",name:"select_filter",value:"Special","onUpdate:modelValue":t[26]||(t[26]=e=>d.selectedType=e),onChange:t[27]||(t[27]=(...e)=>Ne.selectedFilterType&&Ne.selectedFilterType(...e)),id:"special"},null,544),[[l.XL,d.selectedType]]),(0,s.bF)(qe,{class:"checkmark",icon:"check"}),Y])])])),_:1}),"Item #"==d.selectedType?((0,s.uX)(),(0,s.CE)("p",$,"Enter multiple Item # delimited by ' , '")):(0,s.Q3)("",!0)]),(0,s.bF)(l.eB,{name:"fade"},{default:(0,s.k6)((()=>[d.invalidSearch?((0,s.uX)(),(0,s.CE)("p",W,[(0,s.bF)(qe,{icon:"triangle-exclamation"}),(0,s.Lk)("span",null,"Please enter "+(0,i.v_)(d.selectedType),1)])):(0,s.Q3)("",!0)])),_:1}),(0,s.bF)(l.eB,{name:"fade"},{default:(0,s.k6)((()=>["Item #"==d.selectedType?((0,s.uX)(),(0,s.CE)("div",P,[(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":t[28]||(t[28]=e=>d.itemNum=e)},null,512),[[l.Jo,d.itemNum]])])):(0,s.Q3)("",!0)])),_:1}),(0,s.bF)(l.eB,{name:"fade"},{default:(0,s.k6)((()=>["UPC"==d.selectedType?((0,s.uX)(),(0,s.CE)("div",B,["UPC"==d.selectedType?(0,s.bo)(((0,s.uX)(),(0,s.CE)("input",{key:0,onKeyup:t[29]||(t[29]=(0,l.jR)(((...e)=>Ne.searchWithFilter&&Ne.searchWithFilter(...e)),["enter"])),type:"text","onUpdate:modelValue":t[30]||(t[30]=e=>d.upc=e)},null,544)),[[l.Jo,d.upc]]):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0)])),_:1}),(0,s.bF)(l.eB,{name:"fade"},{default:(0,s.k6)((()=>["Group of Items"==d.selectedType?((0,s.uX)(),(0,s.CE)("div",z,[(0,s.Lk)("label",null,[G,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[31]||(t[31]=e=>d.selectedAmtType=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(d.amtTypes,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.qty_type,value:e.qty_type},(0,i.v_)(e.qty_dsc),9,J)))),128))],512),[[l.u1,d.selectedAmtType]])]),(0,s.Lk)("label",null,[j,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[32]||(t[32]=e=>d.selectedCategory=e)},[Z,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(d.categories,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.cat_no,value:e.cat_pathkey},(0,i.v_)(e.cat_display),9,ee)))),128))],512),[[l.u1,d.selectedCategory]])]),(0,s.Lk)("label",null,[te,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[33]||(t[33]=e=>d.selectedDept=e)},[ae,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(d.depts,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.dep_no,value:e.dep_no},(0,i.v_)(e.dep_display),9,se)))),128))],512),[[l.u1,d.selectedDept]])])])):(0,s.Q3)("",!0)])),_:1}),(0,s.bF)(l.eB,{name:"fade"},{default:(0,s.k6)((()=>["Special"==d.selectedType?((0,s.uX)(),(0,s.CE)("div",ie,[(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[34]||(t[34]=e=>d.selectedOption=e),class:"special-type"},[le,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(d.specials,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,i.v_)(e.display),9,ne)))),128))],512),[[l.u1,d.selectedOption]]),"1"==d.selectedOption?(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",{key:0,"onUpdate:modelValue":t[35]||(t[35]=e=>d.specialOption=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(d.origins,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,i.v_)(e.display),9,oe)))),128))],512)),[[l.u1,d.specialOption]]):"2"==d.selectedOption?(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",{key:1,"onUpdate:modelValue":t[36]||(t[36]=e=>d.specialOption=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(d.brands,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,i.v_)(e.display),9,re)))),128))],512)),[[l.u1,d.specialOption]]):"3"==d.selectedOption?(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",{key:2,"onUpdate:modelValue":t[37]||(t[37]=e=>d.specialOption=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(d.employees,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,i.v_)(e.display),9,de)))),128))],512)),[[l.u1,d.specialOption]]):"4"==d.selectedOption?(0,s.bo)(((0,s.uX)(),(0,s.CE)("select",{key:3,"onUpdate:modelValue":t[38]||(t[38]=e=>d.specialOption=e)},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(d.vendors,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,i.v_)(e.display),9,pe)))),128))],512)),[[l.u1,d.specialOption]]):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0)])),_:1})])])],2)],512),(0,s.Lk)("div",{class:"content",style:(0,i.Tr)({height:"calc("+d.windowHeight+"px - 90px)"})},[!d.empty&&d.itemSalesData.total_amount<=0||!d.empty&&!d.itemSalesData.total_amount?((0,s.uX)(),(0,s.CE)("div",ce,[(0,s.bF)(qe,{icon:["fas","magnifying-glass"]}),(0,s.eW)("No search results found")])):(0,s.Q3)("",!0),!d.empty&&d.itemSalesData.total_amount>0?((0,s.uX)(),(0,s.CE)("div",ue,[(0,s.Lk)("div",{class:(0,i.C4)(["item-sale-list",d.showItemList?"expand":""]),style:(0,i.Tr)({height:"calc("+d.windowHeight+"px - 130px)"})},[he,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(d.itemSales,(e=>((0,s.uX)(),(0,s.CE)("li",{key:e,onClick:t=>Ne.scroll(e.item_no),class:(0,i.C4)({highlight:d.highlightItem===e.item_no})},[d.showItemNum?((0,s.uX)(),(0,s.CE)("p",me,(0,i.v_)(e.item_no),1)):d.showItemNum?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("p",ke,(0,i.v_)(e.upc),1)),(0,s.Lk)("p",null,(0,i.v_)(e.itemname),1),(0,s.Lk)("p",null,(0,i.v_)(e.itemdesc)+" "+(0,i.v_)(e.itemnetwt),1)],10,ye)))),128))],6),(0,s.Lk)("button",{class:(0,i.C4)(["items-list-btn",d.showItemList?"expand":""]),onClick:t[39]||(t[39]=e=>d.showItemList=!d.showItemList)},[(0,s.bF)(qe,{icon:"angle-right"})],2),(0,s.Lk)("div",De,[(0,s.Lk)("div",{class:(0,i.C4)(["item-sale-list item-sale-list-mobile",d.showItemList?"expand":""]),style:(0,i.Tr)({height:"calc("+d.windowHeight+"px - 130px)"})},[fe,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(d.itemSales,(e=>((0,s.uX)(),(0,s.CE)("li",{key:e,onClick:t=>Ne.scroll(e.item_no),class:(0,i.C4)({highlight:d.highlightItem==e.item_no})},[d.showItemNum?((0,s.uX)(),(0,s.CE)("p",ve,(0,i.v_)(e.item_no),1)):d.showItemNum?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("p",be,(0,i.v_)(e.upc),1)),(0,s.Lk)("p",null,(0,i.v_)(e.itemname),1),(0,s.Lk)("p",null,(0,i.v_)(e.itemdesc)+" "+(0,i.v_)(e.itemnetwt),1)],10,ge)))),128))],6),(0,s.Lk)("button",{class:(0,i.C4)(["items-list-btn items-list-btn-mobile",d.showItemList?"expand":""]),onClick:t[40]||(t[40]=e=>d.showItemList=!d.showItemList)},[(0,s.bF)(qe,{icon:"angle-right"})],2)]),(0,s.bF)(Qe,{id:"rpt-table",class:"tb-wrapper",expandedRows:n.state.expandedRows,"onUpdate:expandedRows":t[42]||(t[42]=e=>n.state.expandedRows=e),dataKey:"period",value:d.itemSales,rowGroupMode:"subheader",groupRowsBy:"upc",scrollable:"",scrollHeight:"calc("+d.windowHeight+"px - 220px)",exportFilename:Ne.fileName,ref:"dt"},{header:(0,s.k6)((()=>[(0,s.Lk)("div",Le,[(0,s.Lk)("div",Te,[(0,s.Lk)("h3",null,(0,i.v_)(e.$t("header."+this.$route.name))+" - "+(0,i.v_)(d.storeName),1),d.singleDateActive?((0,s.uX)(),(0,s.CE)("p",we,"As of date "+(0,i.v_)(Ne.formatDate(d.rptStartDate)),1)):d.dateRangeActive?((0,s.uX)(),(0,s.CE)("p",Ce,"As of date "+(0,i.v_)(Ne.formatDate(d.rptStartDate))+" - "+(0,i.v_)(Ne.formatDate(d.rptEndDate)),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",_e,[(0,s.Lk)("button",Se,[(0,s.bF)(qe,{icon:"print"})]),(0,s.Lk)("button",{class:"excel-btn btn btn-circle",onClick:t[41]||(t[41]=e=>Ne.exportCSV(e))},[(0,s.bF)(qe,{icon:"file-csv"})])])])])),groupheader:(0,s.k6)((e=>[(0,s.Lk)("span",{id:e.data.item_no,class:"item-wrapper"},null,8,Fe),(0,s.Lk)("p",{class:(0,i.C4)(["item",{highlight:d.highlightItem===e.data.item_no}])},[d.showItemNum?((0,s.uX)(),(0,s.CE)("span",Ee,(0,i.v_)(e.data.item_no),1)):d.showItemNum?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("span",Ie,(0,i.v_)(e.data.upc),1)),(0,s.Lk)("span",null," - "+(0,i.v_)(e.data.itemname)+" "+(0,i.v_)(e.data.itemdesc)+" "+(0,i.v_)(e.data.itemnetwt),1)],2)])),default:(0,s.k6)((()=>[(0,s.bF)(He,{field:"period",header:"Date"},{body:(0,s.k6)((e=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.data.details,((e,t)=>((0,s.uX)(),(0,s.CE)("ul",{key:Ne.key("period",t,e.period)},[(0,s.Lk)("li",null,(0,i.v_)(e.period),1)])))),128)),Xe])),_:1}),(0,s.bF)(He,{class:"qty-col",field:"qty",header:"Quantity"},{body:(0,s.k6)((e=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.data.details,((e,t)=>((0,s.uX)(),(0,s.CE)("ul",{key:Ne.key("qty",t,e.qty)},[(0,s.Lk)("li",null,(0,i.v_)(e.qty),1)])))),128)),(0,s.Lk)("p",Me,(0,i.v_)(e.data.subtotal_qty),1)])),_:1}),(0,s.bF)(He,{class:"average",field:"average",header:"Average($)"},{body:(0,s.k6)((e=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.data.details,((e,t)=>((0,s.uX)(),(0,s.CE)("ul",{key:Ne.key("avg",t,e.average)},[(0,s.Lk)("li",null,(0,i.v_)(e.average),1)])))),128)),(0,s.Lk)("p",Ae,(0,i.v_)(e.data.details[0].average),1)])),_:1}),(0,s.bF)(He,{class:"amount",field:"amount",header:"Amount($)"},{body:(0,s.k6)((e=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.data.details,((e,t)=>((0,s.uX)(),(0,s.CE)("ul",{key:Ne.key("amt",t,e.amount)},[(0,s.Lk)("li",null,(0,i.v_)(e.amount),1)])))),128)),(0,s.Lk)("p",xe,(0,i.v_)(e.data.subtotal_amount),1)])),_:1}),(0,s.bF)(He,{field:"",header:"",style:{display:"none"}})])),_:1},8,["expandedRows","value","scrollHeight","exportFilename"])])):(0,s.Q3)("",!0)],4)])])}var Re=a(953),qe=a(4335),Oe=a(5093),Ue=a.n(Oe),Ve=a(9121),He=a(5987),Qe=a(5011),Ke=a(1917),Ye={components:{Header:Ve.A,Popup:He.A,DatePicker:Qe.A,DateType:Ke.A},setup(){const e=(0,Re.Kh)({expandedRows:{}}),t=t=>{const a=t in e.expandedRows;a?delete e.expandedRows[t]:e.expandedRows[t]=!0,e.expandedRows={...e.expandedRows}};return{state:e,onExpandRow:t}},data(){return{windowHeight:window.innerHeight,isFilterActive:!0,empty:!0,companies:[{id:1027,companyName:"Apple Supermarket 1"},{id:1221,companyName:"Apple Supermarket 2"}],invalidStore:!1,selectedCompanies:[],loading:!1,storeName:"",itemSalesData:[],itemSales:[],startDate:"",endDate:"",rptStartDate:"",rptEndDate:"",selectedType:"UPC",dateType:"Date Range",displayType:"D",offset:2,showItem:"Y",itemNum:[],upc:"",deptCat:[],amtTypes:"",categories:"",depts:"",brands:"",employees:"",origins:"",vendors:"",specials:[{id:1,display:"Origin"},{id:2,display:"Brand"},{id:3,display:"Handle By"},{id:4,display:"Pr. Vendor"}],selectedAmtType:"S",selectedCategory:"",selectedDept:"",selectedOption:0,specialOption:"",filterData:"",showItemNum:!0,itemSelected:[],itemAvg:"",invalidSearch:!1,invalidDateRange:!1,showItemList:!1,highlightItem:"",singleDateActive:!1,dateRangeActive:!1}},mounted(){this.selectedCompanies=this.companies[0],this.$nextTick((()=>{window.addEventListener("resize",this.onResize)})),qe.A.get("https://cloudbackofficereportapidev.azurewebsites.net/AmtType",{headers:{marketid:this.selectedCompanies.id}}).then((e=>{this.amtTypes=e.data.datas})).catch((e=>console.log(e.response))),qe.A.get("https://cloudbackofficereportapidev.azurewebsites.net/Category",{headers:{marketid:this.selectedCompanies.id}}).then((e=>{this.categories=e.data.datas})).catch((e=>console.log(e.response))),qe.A.get("https://cloudbackofficereportapidev.azurewebsites.net/Department",{headers:{marketid:this.selectedCompanies.id}}).then((e=>{this.depts=e.data.datas})).catch((e=>console.log(e.response))),qe.A.get("https://cloudbackofficereportapidev.azurewebsites.net/DropDown/Brand",{headers:{marketid:this.selectedCompanies.id}}).then((e=>{this.brands=e.data.datas})).catch((e=>console.log(e.response))),qe.A.get("https://cloudbackofficereportapidev.azurewebsites.net/DropDown/Employees",{headers:{marketid:this.selectedCompanies.id}}).then((e=>{this.employees=e.data.datas})).catch((e=>console.log(e.response))),qe.A.get("https://cloudbackofficereportapidev.azurewebsites.net/DropDown/Origin",{headers:{marketid:this.selectedCompanies.id}}).then((e=>{this.origins=e.data.datas})).catch((e=>console.log(e.response))),qe.A.get("https://cloudbackofficereportapidev.azurewebsites.net/DropDown/VendorCode",{headers:{marketid:this.selectedCompanies.id}}).then((e=>{this.vendors=e.data.datas})).catch((e=>console.log(e.response)))},beforeDestroy(){window.removeEventListener("resize",this.onResize)},methods:{scroll(e){const t=document.getElementById(e);t.scrollIntoView({behavior:"smooth",block:"start"}),this.showItemList=!1,this.highlightItem=e,setTimeout((()=>{this.highlightItem=""}),5e3)},key(e,t,a){return`${e}-${t}-${a}`},toggleFilter(){this.isFilterActive=!this.isFilterActive},formatPrice(e){if(!e||0==e)return"0.00";let t=(e/1).toFixed(2).replace(",",".");return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},formatNumber(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},formatDate(e){return Ue()(e).format("MMM DD, yyyy")},exportCSV(){this.$refs.dt.exportCSV()},selectedDisplayType(){var e="Nothing selected",t=document.querySelector('input[name="display_type"]:checked'),a=document.querySelector("#display-selection");t&&(e=document.querySelector('label[for="'+t.id+'"]').innerHTML),a.innerHTML=e},selectedShowNum(){var e="Nothing selected",t=document.querySelector('input[name="show_item"]:checked'),a=document.querySelector("#num-selection");t&&(e=document.querySelector('label[for="'+t.id+'"]').innerHTML),a.innerHTML=e},selectedStore(){var e="Nothing selected",t=document.querySelector('input[name="store_type"]:checked'),a=document.querySelector("#store-selection");t&&(e=document.querySelector('label[for="'+t.id+'"]').innerHTML),a.innerHTML=e},selectedFilterType(){var e="Nothing selected",t=document.querySelector('input[name="select_filter"]:checked'),a=document.querySelector("#filter-selection");t&&(e=document.querySelector('label[for="'+t.id+'"]').innerHTML),a.innerHTML=e},calculateSalesAvg(e){var t=0,a=e.length;for(let s of e)t+=s.average;return"$"+(t/a).toFixed(2)},searchWithFilter(){if(this.loading=!0,this.isFilterActive=!1,this.itemSelected="",this.itemSales=[],this.storeName=this.selectedCompanies.companyName,this.rptStartDate="",this.rptEndDate="","Single Date"==this.dateType||"Today"==this.dateType)this.rptStartDate=Ue()(this.startDate).format("YYYY-MM-DD"),this.rptEndDate=Ue()(this.startDate).format("YYYY-MM-DD"),this.singleDateActive=!0,this.dateRangeActive=!1;else if("Date Range"==this.dateType||"This Week"==this.dateType){this.dateRangeActive=!0,this.singleDateActive=!1;const e=Math.round((this.endDate-this.startDate)/864e5);this.startDate&&this.endDate&&e>=0?(this.rptStartDate=Ue()(this.startDate).format("YYYY-MM-DD"),this.rptEndDate=Ue()(this.endDate).format("YYYY-MM-DD")):e<0?(this.invalidDateRange=!0,this.rptStartDate="",this.rptEndDate=""):(this.rptStartDate="",this.rptEndDate="")}"Y"==this.showItem?this.showItemNum=!0:"N"==this.showItem&&(this.showItemNum=!1),"Item #"==this.selectedType?(this.itemNum.indexOf(",")>-1&&(this.itemNum=this.itemNum.replace(" ","").split(",")),this.itemNum?this.invalidSearch=!1:this.invalidSearch=!0,this.filterData={itemnos:this.itemNum,sDate:this.rptStartDate,eDate:this.rptEndDate,type:this.displayType,offset:this.offset,show_upc:this.showItem}):"UPC"==this.selectedType?(this.filterData?this.invalidSearch=!1:this.invalidSearch=!0,this.filterData={upc:this.upc,sDate:this.rptStartDate,eDate:this.rptEndDate,type:this.displayType,offset:this.offset,show_upc:this.showItem}):"Group of Items"==this.selectedType?(this.selectedCategory||this.selectedDept?this.invalidSearch=!1:this.invalidSearch=!0,this.filterData={sDate:this.rptStartDate,eDate:this.rptEndDate,type:this.displayType,offset:this.offset,show_upc:this.showItem,deptCat:{amt_type:this.selectedAmtType,cat_pathkey:this.selectedCategory,dep_no:""+this.selectedDept}}):"Special"==this.selectedType&&(this.selectedOption?this.invalidSearch=!1:this.invalidSearch=!0,this.filterData={sDate:this.rptStartDate,eDate:this.rptEndDate,type:this.displayType,offset:this.offset,show_upc:this.showItem,sp_type:this.selectedOption,sp_value:this.specialOption}),this.invalidSearch||this.invalidDateRang?(this.loading=!1,this.isFilterActive=!0):(this.invalidSearch=!1,this.invalidDateRang=!1,qe.A.post("https://cloudbackofficereportapidev.azurewebsites.net/Report/ItemSales",this.filterData,{headers:{marketid:this.selectedCompanies.id}}).then((e=>{this.itemSalesData=e.data.datas,this.itemSales=e.data.datas.itemSalesRptItems})).catch((e=>console.log(e.response))).finally((()=>{this.loading=!1,this.empty=!1})))}},computed:{fileName(){let e=this.$route.name+" "+this.startDate+"-"+this.endDate;return e},totalQty(){let e=0;for(let t of this.itemSales)e+=t.subtotal_qty;return e},totalAmount(){let e=0;for(let t of this.itemSales)e+=t.subtotal_amount;return e}}},$e=a(6262);const We=(0,$e.A)(Ye,[["render",Ne]]);var Pe=We}}]);
//# sourceMappingURL=995.b10f85eb.js.map