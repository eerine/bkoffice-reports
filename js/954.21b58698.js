(self["webpackChunkvue_moleq_backoffice"]=self["webpackChunkvue_moleq_backoffice"]||[]).push([[954],{4601:function(t,e,n){var r=n(8420),a=n(3838),o=TypeError;t.exports=function(t){if(r(t))return t;throw o(a(t)+" is not a function")}},3938:function(t,e,n){var r=n(5335),a=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw o(a(t)+" is not an object")}},8186:function(t,e,n){var r=n(5476),a=n(6539),o=n(3493),i=function(t){return function(e,n,i){var s,l=r(e),c=o(l),p=a(i,c);if(t&&n!=n){while(c>p)if(s=l[p++],s!=s)return!0}else for(;c>p;p++)if((t||p in l)&&l[p]===n)return t||p||0;return!t&&-1}};t.exports={includes:i(!0),indexOf:i(!1)}},6648:function(t,e,n){"use strict";var r=n(5077),a=n(8679),o=TypeError,i=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=s?function(t,e){if(a(t)&&!i(t,"length").writable)throw o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},8569:function(t,e,n){var r=n(281),a=r({}.toString),o=r("".slice);t.exports=function(t){return o(a(t),8,-1)}},4361:function(t,e,n){var r=n(6490),a=n(5816),o=n(7632),i=n(3610);t.exports=function(t,e,n){for(var s=a(e),l=i.f,c=o.f,p=0;p<s.length;p++){var u=s[p];r(t,u)||n&&r(n,u)||l(t,u,c(e,u))}}},7712:function(t,e,n){var r=n(5077),a=n(3610),o=n(6843);t.exports=r?function(t,e,n){return a.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},6843:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},7485:function(t,e,n){var r=n(8420),a=n(3610),o=n(8218),i=n(9430);t.exports=function(t,e,n,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:e;if(r(n)&&o(n,c,s),s.global)l?t[e]=n:i(e,n);else{try{s.unsafe?t[e]&&(l=!0):delete t[e]}catch(p){}l?t[e]=n:a.f(t,e,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},9430:function(t,e,n){var r=n(200),a=Object.defineProperty;t.exports=function(t,e){try{a(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},5077:function(t,e,n){var r=n(2074);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},6568:function(t){var e="object"==typeof document&&document.all,n="undefined"==typeof e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:n}},3262:function(t,e,n){var r=n(200),a=n(5335),o=r.document,i=a(o)&&a(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},7242:function(t){var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},7061:function(t,e,n){var r=n(6492);t.exports=r("navigator","userAgent")||""},6845:function(t,e,n){var r,a,o=n(200),i=n(7061),s=o.process,l=o.Deno,c=s&&s.versions||l&&l.version,p=c&&c.v8;p&&(r=p.split("."),a=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!a&&i&&(r=i.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=i.match(/Chrome\/(\d+)/),r&&(a=+r[1]))),t.exports=a},290:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1605:function(t,e,n){var r=n(200),a=n(7632).f,o=n(7712),i=n(7485),s=n(9430),l=n(4361),c=n(4977);t.exports=function(t,e){var n,p,u,d,f,h,y=t.target,m=t.global,v=t.stat;if(p=m?r:v?r[y]||s(y,{}):(r[y]||{}).prototype,p)for(u in e){if(f=e[u],t.dontCallGetSet?(h=a(p,u),d=h&&h.value):d=p[u],n=c(m?u:y+(v?".":"#")+u,t.forced),!n&&void 0!==d){if(typeof f==typeof d)continue;l(f,d)}(t.sham||d&&d.sham)&&o(f,"sham",!0),i(p,u,f,t)}}},2074:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},8823:function(t,e,n){var r=n(2074);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},2368:function(t,e,n){var r=n(8823),a=Function.prototype.call;t.exports=r?a.bind(a):function(){return a.apply(a,arguments)}},2071:function(t,e,n){var r=n(5077),a=n(6490),o=Function.prototype,i=r&&Object.getOwnPropertyDescriptor,s=a(o,"name"),l=s&&"something"===function(){}.name,c=s&&(!r||r&&i(o,"name").configurable);t.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},281:function(t,e,n){var r=n(8823),a=Function.prototype,o=a.call,i=r&&a.bind.bind(o,o);t.exports=r?i:function(t){return function(){return o.apply(t,arguments)}}},6492:function(t,e,n){var r=n(200),a=n(8420),o=function(t){return a(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t]):r[t]&&r[t][e]}},6457:function(t,e,n){var r=n(4601),a=n(8406);t.exports=function(t,e){var n=t[e];return a(n)?void 0:r(n)}},200:function(t,e,n){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6490:function(t,e,n){var r=n(281),a=n(2612),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(a(t),e)}},7708:function(t){t.exports={}},7694:function(t,e,n){var r=n(5077),a=n(2074),o=n(3262);t.exports=!r&&!a((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8664:function(t,e,n){var r=n(281),a=n(2074),o=n(8569),i=Object,s=r("".split);t.exports=a((function(){return!i("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?s(t,""):i(t)}:i},9965:function(t,e,n){var r=n(281),a=n(8420),o=n(9310),i=r(Function.toString);a(o.inspectSource)||(o.inspectSource=function(t){return i(t)}),t.exports=o.inspectSource},9206:function(t,e,n){var r,a,o,i=n(8369),s=n(200),l=n(5335),c=n(7712),p=n(6490),u=n(9310),d=n(5904),f=n(7708),h="Object already initialized",y=s.TypeError,m=s.WeakMap,v=function(t){return o(t)?a(t):r(t,{})},b=function(t){return function(e){var n;if(!l(e)||(n=a(e)).type!==t)throw y("Incompatible receiver, "+t+" required");return n}};if(i||u.state){var g=u.state||(u.state=new m);g.get=g.get,g.has=g.has,g.set=g.set,r=function(t,e){if(g.has(t))throw y(h);return e.facade=t,g.set(t,e),e},a=function(t){return g.get(t)||{}},o=function(t){return g.has(t)}}else{var k=d("state");f[k]=!0,r=function(t,e){if(p(t,k))throw y(h);return e.facade=t,c(t,k,e),e},a=function(t){return p(t,k)?t[k]:{}},o=function(t){return p(t,k)}}t.exports={set:r,get:a,has:o,enforce:v,getterFor:b}},8679:function(t,e,n){var r=n(8569);t.exports=Array.isArray||function(t){return"Array"==r(t)}},8420:function(t,e,n){var r=n(6568),a=r.all;t.exports=r.IS_HTMLDDA?function(t){return"function"==typeof t||t===a}:function(t){return"function"==typeof t}},4977:function(t,e,n){var r=n(2074),a=n(8420),o=/#|\.prototype\./,i=function(t,e){var n=l[s(t)];return n==p||n!=c&&(a(e)?r(e):!!e)},s=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},l=i.data={},c=i.NATIVE="N",p=i.POLYFILL="P";t.exports=i},8406:function(t){t.exports=function(t){return null===t||void 0===t}},5335:function(t,e,n){var r=n(8420),a=n(6568),o=a.all;t.exports=a.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:r(t)||t===o}:function(t){return"object"==typeof t?null!==t:r(t)}},6926:function(t){t.exports=!1},2328:function(t,e,n){var r=n(6492),a=n(8420),o=n(7658),i=n(5225),s=Object;t.exports=i?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return a(e)&&o(e.prototype,s(t))}},3493:function(t,e,n){var r=n(3747);t.exports=function(t){return r(t.length)}},8218:function(t,e,n){var r=n(2074),a=n(8420),o=n(6490),i=n(5077),s=n(2071).CONFIGURABLE,l=n(9965),c=n(9206),p=c.enforce,u=c.get,d=Object.defineProperty,f=i&&!r((function(){return 8!==d((function(){}),"length",{value:8}).length})),h=String(String).split("String"),y=t.exports=function(t,e,n){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!o(t,"name")||s&&t.name!==e)&&(i?d(t,"name",{value:e,configurable:!0}):t.name=e),f&&n&&o(n,"arity")&&t.length!==n.arity&&d(t,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?i&&d(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(a){}var r=p(t);return o(r,"source")||(r.source=h.join("string"==typeof e?e:"")),t};Function.prototype.toString=y((function(){return a(this)&&u(this).source||l(this)}),"toString")},9830:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},3610:function(t,e,n){var r=n(5077),a=n(7694),o=n(4491),i=n(3938),s=n(6032),l=TypeError,c=Object.defineProperty,p=Object.getOwnPropertyDescriptor,u="enumerable",d="configurable",f="writable";e.f=r?o?function(t,e,n){if(i(t),e=s(e),i(n),"function"===typeof t&&"prototype"===e&&"value"in n&&f in n&&!n[f]){var r=p(t,e);r&&r[f]&&(t[e]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:u in n?n[u]:r[u],writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(i(t),e=s(e),i(n),a)try{return c(t,e,n)}catch(r){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},7632:function(t,e,n){var r=n(5077),a=n(2368),o=n(9304),i=n(6843),s=n(5476),l=n(6032),c=n(6490),p=n(7694),u=Object.getOwnPropertyDescriptor;e.f=r?u:function(t,e){if(t=s(t),e=l(e),p)try{return u(t,e)}catch(n){}if(c(t,e))return i(!a(o.f,t,e),t[e])}},4789:function(t,e,n){var r=n(6347),a=n(290),o=a.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},8916:function(t,e){e.f=Object.getOwnPropertySymbols},7658:function(t,e,n){var r=n(281);t.exports=r({}.isPrototypeOf)},6347:function(t,e,n){var r=n(281),a=n(6490),o=n(5476),i=n(8186).indexOf,s=n(7708),l=r([].push);t.exports=function(t,e){var n,r=o(t),c=0,p=[];for(n in r)!a(s,n)&&a(r,n)&&l(p,n);while(e.length>c)a(r,n=e[c++])&&(~i(p,n)||l(p,n));return p}},9304:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,a=r&&!n.call({1:2},1);e.f=a?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},9751:function(t,e,n){var r=n(2368),a=n(8420),o=n(5335),i=TypeError;t.exports=function(t,e){var n,s;if("string"===e&&a(n=t.toString)&&!o(s=r(n,t)))return s;if(a(n=t.valueOf)&&!o(s=r(n,t)))return s;if("string"!==e&&a(n=t.toString)&&!o(s=r(n,t)))return s;throw i("Can't convert object to primitive value")}},5816:function(t,e,n){var r=n(6492),a=n(281),o=n(4789),i=n(8916),s=n(3938),l=a([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=i.f;return n?l(e,n(t)):e}},1229:function(t,e,n){var r=n(8406),a=TypeError;t.exports=function(t){if(r(t))throw a("Can't call method on "+t);return t}},5904:function(t,e,n){var r=n(2),a=n(665),o=r("keys");t.exports=function(t){return o[t]||(o[t]=a(t))}},9310:function(t,e,n){var r=n(200),a=n(9430),o="__core-js_shared__",i=r[o]||a(o,{});t.exports=i},2:function(t,e,n){var r=n(6926),a=n(9310);(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.26.1",mode:r?"pure":"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"})},2072:function(t,e,n){var r=n(6845),a=n(2074);t.exports=!!Object.getOwnPropertySymbols&&!a((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},6539:function(t,e,n){var r=n(9328),a=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?a(n+e,0):o(n,e)}},5476:function(t,e,n){var r=n(8664),a=n(1229);t.exports=function(t){return r(a(t))}},9328:function(t,e,n){var r=n(9830);t.exports=function(t){var e=+t;return e!==e||0===e?0:r(e)}},3747:function(t,e,n){var r=n(9328),a=Math.min;t.exports=function(t){return t>0?a(r(t),9007199254740991):0}},2612:function(t,e,n){var r=n(1229),a=Object;t.exports=function(t){return a(r(t))}},874:function(t,e,n){var r=n(2368),a=n(5335),o=n(2328),i=n(6457),s=n(9751),l=n(1602),c=TypeError,p=l("toPrimitive");t.exports=function(t,e){if(!a(t)||o(t))return t;var n,l=i(t,p);if(l){if(void 0===e&&(e="default"),n=r(l,t,e),!a(n)||o(n))return n;throw c("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},6032:function(t,e,n){var r=n(874),a=n(2328);t.exports=function(t){var e=r(t,"string");return a(e)?e:e+""}},3838:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},665:function(t,e,n){var r=n(281),a=0,o=Math.random(),i=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+i(++a+o,36)}},5225:function(t,e,n){var r=n(2072);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},4491:function(t,e,n){var r=n(5077),a=n(2074);t.exports=r&&a((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8369:function(t,e,n){var r=n(200),a=n(8420),o=r.WeakMap;t.exports=a(o)&&/native code/.test(String(o))},1602:function(t,e,n){var r=n(200),a=n(2),o=n(6490),i=n(665),s=n(2072),l=n(5225),c=a("wks"),p=r.Symbol,u=p&&p["for"],d=l?p:p&&p.withoutSetter||i;t.exports=function(t){if(!o(c,t)||!s&&"string"!=typeof c[t]){var e="Symbol."+t;s&&o(p,t)?c[t]=p[t]:c[t]=l&&u?u(e):d(e)}return c[t]}},8743:function(t,e,n){"use strict";var r=n(1605),a=n(2612),o=n(3493),i=n(6648),s=n(7242),l=n(2074),c=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),p=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}();r({target:"Array",proto:!0,arity:1,forced:c||p},{push:function(t){var e=a(this),n=o(e),r=arguments.length;s(n+r);for(var l=0;l<r;l++)e[n]=arguments[l],n++;return i(e,n),n}})},6055:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return vt}});var r=n(641),a=n(33),o=n(3751),i=n(517);const s={class:"container store-rpt-wrapper dept-wrapper"},l={key:0,class:"loading-overlay"},c=(0,r.Lk)("div",{class:"overlay-content"},[(0,r.Lk)("img",{src:i,style:{width:"60px"}})],-1),p=[c],u={class:"content-wrapper"},d={class:"filter-toggle-wrapper",ref:"toggleFilter"},f={class:"filter-content-wrapper"},h={class:"filter-btn"},y=(0,r.Lk)("span",{id:"store-selection"},"Stores",-1),m={class:"stores-selection-wrapper"},v={class:"checkbox-wrapper stores-filter-wrapper"},b={for:"all-stores"},g=(0,r.Lk)("span",{class:"cbx"},[(0,r.Lk)("svg",{width:"12px",height:"11px",viewBox:"0 0 12 11"},[(0,r.Lk)("polyline",{points:"1 6.29411765 4.5 10 11 1"})])],-1),k=(0,r.Lk)("span",null,"All",-1),D=["for"],x=["id","value"],w=(0,r.Lk)("span",{class:"cbx"},[(0,r.Lk)("svg",{width:"12px",height:"11px",viewBox:"0 0 12 11"},[(0,r.Lk)("polyline",{points:"1 6.29411765 4.5 10 11 1"})])],-1),S={class:"compan-name"},L={class:"filter-btn"},C=(0,r.Lk)("span",null,[(0,r.Lk)("span",{id:"display-selection"},"Daily")],-1),T={class:"display-selection-wrapper"},F=(0,r.Lk)("label",{for:"display-daily"},"Daily",-1),_=(0,r.Lk)("label",{for:"display-weekly"},"Weekly",-1),E=(0,r.Lk)("label",{for:"display-monthly"},"Monthly",-1),O=(0,r.Lk)("label",{for:"display-yearly"},"Yearly",-1),A={class:"filter-header"},P={class:"calendar-wrapper"},j={key:0,class:"no-results"},M={key:1,class:"dept-table-wrapper"},R={class:"table-header-wrapper"},N={class:"table-header"},I={key:0},W={key:1},X={class:"table-btn-group"},z={class:"print-btn btn btn-circle",onclick:"window.print()"},Y=["onClick"],$=["onClick"],H={key:2},V={class:"dept-table-wrapper"},Q={class:"table-header-wrapper"},U={class:"table-header"},q={key:0},B={key:1},G={class:"table-btn-group"},K={class:"print-btn btn btn-circle",onclick:"window.print()"},J={class:"dept-total store-detail"},Z={class:"bold-600"},tt={class:"bold-600"},et={class:"bold-600"},nt={key:0,class:"doughnut-chart"};function rt(t,e,n,i,c,rt){const at=(0,r.g2)("Header"),ot=(0,r.g2)("fa"),it=(0,r.g2)("dropdown"),st=(0,r.g2)("popup"),lt=(0,r.g2)("DatePicker"),ct=(0,r.g2)("Column"),pt=(0,r.g2)("Row"),ut=(0,r.g2)("ColumnGroup"),dt=(0,r.g2)("DataTable"),ft=(0,r.g2)("VueApexCharts");return(0,r.uX)(),(0,r.CE)("div",s,[c.loading?((0,r.uX)(),(0,r.CE)("div",l,p)):(0,r.Q3)("",!0),(0,r.bF)(at),(0,r.Lk)("div",u,[(0,r.Lk)("div",d,[(0,r.Lk)("span",null,[(0,r.Lk)("button",{class:(0,a.C4)(["filter-toggle",c.isFilterActive?"collasped":""]),onClick:e[0]||(e[0]=t=>rt.toggleFilter())},[(0,r.bF)(ot,{icon:["fas","sliders"]})],2)]),(0,r.Lk)("div",{class:(0,a.C4)(["filter-wrapper",[c.isFilterActive?"slide-in":"slide-out"]])},[(0,r.Lk)("div",f,[(0,r.bF)(it,{class:"filter-popup-wrapper stores-popup"},{header:(0,r.k6)((()=>[(0,r.Lk)("button",h,[y,(0,r.bF)(ot,{icon:"angle-down"})])])),content:(0,r.k6)((()=>[(0,r.Lk)("div",m,[(0,r.Lk)("div",v,[(0,r.Lk)("label",b,[(0,r.bo)((0,r.Lk)("input",{type:"checkbox",name:"store_type",id:"all-stores","onUpdate:modelValue":e[1]||(e[1]=t=>rt.selectAllCompanies=t),value:"all",onChange:e[2]||(e[2]=(...t)=>rt.selectedStore&&rt.selectedStore(...t))},null,544),[[o.lH,rt.selectAllCompanies]]),g,k]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(c.companies,(t=>((0,r.uX)(),(0,r.CE)("label",{for:t.id,key:t.id},[(0,r.bo)((0,r.Lk)("input",{type:"checkbox",name:"store_type",id:t.id,value:t,"onUpdate:modelValue":e[3]||(e[3]=t=>c.selectedCompanies=t),onChange:e[4]||(e[4]=(...t)=>rt.selectedStore&&rt.selectedStore(...t))},null,40,x),[[o.lH,c.selectedCompanies]]),w,(0,r.Lk)("span",S,(0,a.v_)(t.companyName),1)],8,D)))),128))])])])),_:1}),(0,r.bF)(st,{class:"filter-popup-wrapper"},{header:(0,r.k6)((()=>[(0,r.Lk)("button",L,[C,(0,r.bF)(ot,{icon:"angle-down"})])])),content:(0,r.k6)((()=>[(0,r.Lk)("div",T,[(0,r.Lk)("span",null,[(0,r.bo)((0,r.Lk)("input",{type:"radio",name:"display_type",value:"D","onUpdate:modelValue":e[5]||(e[5]=t=>c.displayType=t),onChange:e[6]||(e[6]=(...t)=>rt.selectedDisplayType&&rt.selectedDisplayType(...t)),id:"display-daily"},null,544),[[o.XL,c.displayType]]),(0,r.bF)(ot,{class:"checkmark",icon:"check"}),F]),(0,r.Lk)("span",null,[(0,r.bo)((0,r.Lk)("input",{type:"radio",name:"display_type",value:"W","onUpdate:modelValue":e[7]||(e[7]=t=>c.displayType=t),onChange:e[8]||(e[8]=(...t)=>rt.selectedDisplayType&&rt.selectedDisplayType(...t)),id:"display-weekly"},null,544),[[o.XL,c.displayType]]),(0,r.bF)(ot,{class:"checkmark",icon:"check"}),_]),(0,r.Lk)("span",null,[(0,r.bo)((0,r.Lk)("input",{type:"radio",name:"display_type",value:"M","onUpdate:modelValue":e[9]||(e[9]=t=>c.displayType=t),onChange:e[10]||(e[10]=(...t)=>rt.selectedDisplayType&&rt.selectedDisplayType(...t)),id:"display-monthly"},null,544),[[o.XL,c.displayType]]),(0,r.bF)(ot,{class:"checkmark",icon:"check"}),E]),(0,r.Lk)("span",null,[(0,r.bo)((0,r.Lk)("input",{type:"radio",name:"display_type",value:"Y","onUpdate:modelValue":e[11]||(e[11]=t=>c.displayType=t),onChange:e[12]||(e[12]=(...t)=>rt.selectedDisplayType&&rt.selectedDisplayType(...t)),id:"display-yearly"},null,544),[[o.XL,c.displayType]]),(0,r.bF)(ot,{class:"checkmark",icon:"check"}),O])])])),_:1}),(0,r.Lk)("div",A,[(0,r.Lk)("div",P,[(0,r.bF)(lt,{onChangeDateValue:e[13]||(e[13]=t=>c.startDate=t),weeklyCalendar:"W"==c.displayType,monthlyCalendar:"M"==c.displayType,yearlyCalendar:"Y"==c.displayType,defaultDate:c.startDate,dateRange:c.dateRange,labelEnableText:"Date"},null,8,["weeklyCalendar","monthlyCalendar","yearlyCalendar","defaultDate","dateRange"])]),(0,r.Lk)("button",{class:"search-btn btn btn-square",onClick:e[14]||(e[14]=(...t)=>rt.searchWithFilter&&rt.searchWithFilter(...t))},[(0,r.bF)(ot,{icon:"magnifying-glass"})])])])],2)],512),(0,r.Lk)("div",{class:"content",style:(0,a.Tr)({height:"calc("+c.windowHeight+"px - 90px)"})},[!c.empty&&c.mkts.mktlist.length<=0?((0,r.uX)(),(0,r.CE)("div",j,[(0,r.bF)(ot,{icon:["fas","magnifying-glass"]}),(0,r.eW)("No search results found")])):(0,r.Q3)("",!0),!c.empty&&c.mkts.mktlist.length>0?((0,r.uX)(),(0,r.CE)("div",M,[c.storesDetail?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(dt,{key:0,id:"rpt-table",class:"stores-tb",value:c.mkts.mktlist,exportFilename:rt.fileName,ref:"dt"},{header:(0,r.k6)((()=>[(0,r.Lk)("div",R,[(0,r.Lk)("div",N,[(0,r.Lk)("h3",null,(0,a.v_)(t.$t("header."+this.$route.name)),1),this.endDate?((0,r.uX)(),(0,r.CE)("p",I,"As of date "+(0,a.v_)(rt.formatDate(c.rptStartDate))+" - "+(0,a.v_)(rt.formatDate(c.rptEndDate)),1)):(0,r.Q3)("",!0),this.endDate?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("p",W,"As of date "+(0,a.v_)(rt.formatDate(c.rptStartDate)),1))]),(0,r.Lk)("div",X,[(0,r.Lk)("button",z,[(0,r.bF)(ot,{icon:"print"})]),(0,r.Lk)("button",{class:"excel-btn btn btn-circle",onClick:e[15]||(e[15]=t=>rt.exportCSV(t))},[(0,r.bF)(ot,{icon:"file-csv"})])])])])),default:(0,r.k6)((()=>[(0,r.bF)(ct,{field:"companyName",header:"Stores"},{body:(0,r.k6)((t=>[(0,r.Lk)("a",{onClick:e=>rt.getSalesDetail(t.data.mktid,t.data.comp_name,t.data.total)},(0,a.v_)(rt.getName(t.data.mktid)),9,Y)])),_:1}),(0,r.bF)(ct,{field:"total",header:"Sale Amount($)",class:"amount"},{body:(0,r.k6)((t=>[(0,r.Lk)("a",{onClick:e=>rt.getSalesDetail(t.data.mktid,t.data.comp_name,t.data.total)},(0,a.v_)(rt.formatPrice(t.data.total)),9,$)])),_:1}),(0,r.bF)(ut,{type:"footer"},{default:(0,r.k6)((()=>[(0,r.bF)(pt,null,{default:(0,r.k6)((()=>[(0,r.bF)(ct,{footer:"Total Sale Amount($)",footerStyle:"text-align:right"}),(0,r.bF)(ct,{footer:rt.formatPrice(rt.storesTotalSale),footerStyle:"text-align:right"},null,8,["footer"])])),_:1})])),_:1})])),_:1},8,["value","exportFilename"]))])):(0,r.Q3)("",!0),c.storesDetail?((0,r.uX)(),(0,r.CE)("div",H,[(0,r.Lk)("button",{class:"back-btn",onClick:e[16]||(e[16]=t=>rt.back())},[(0,r.bF)(ot,{icon:["fas","arrow-left"]})]),(0,r.Lk)("div",V,[(0,r.bF)(dt,{id:"rpt-table",class:"dept-tb store-detail",value:c.depts,exportFilename:rt.fileName,ref:"dt"},{header:(0,r.k6)((()=>[(0,r.Lk)("div",Q,[(0,r.Lk)("div",U,[(0,r.Lk)("h3",null,"Department Sales Report - "+(0,a.v_)(c.storeName),1),this.endDate?((0,r.uX)(),(0,r.CE)("p",q,"As of date "+(0,a.v_)(rt.formatDate(c.rptStartDate))+" - "+(0,a.v_)(rt.formatDate(c.rptEndDate)),1)):(0,r.Q3)("",!0),this.endDate?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("p",B,"As of date "+(0,a.v_)(rt.formatDate(c.rptStartDate)),1))]),(0,r.Lk)("div",G,[(0,r.Lk)("button",K,[(0,r.bF)(ot,{icon:"print"})]),(0,r.Lk)("button",{class:"excel-btn btn btn-circle",onClick:e[17]||(e[17]=t=>rt.exportCSV(t))},[(0,r.bF)(ot,{icon:"file-csv"})])])])])),default:(0,r.k6)((()=>[(0,r.bF)(ct,{field:"dep_name",header:"Department"},{body:(0,r.k6)((t=>[(0,r.eW)((0,a.v_)(t.data.dep_no+" "+t.data.dep_name),1)])),_:1}),(0,r.bF)(ct,{field:"amount",header:"Amount ($)",class:"amount"},{body:(0,r.k6)((t=>[(0,r.eW)((0,a.v_)(rt.formatPrice(t.data.amount)),1)])),_:1}),(0,r.bF)(ct,{field:"percentage",header:"%",class:"percentage"},{body:(0,r.k6)((t=>[(0,r.eW)((0,a.v_)(rt.formatPrice(t.data.percentage))+"%",1)])),_:1}),(0,r.bF)(ut,{type:"footer"},{default:(0,r.k6)((()=>[(0,r.bF)(pt,null,{default:(0,r.k6)((()=>[(0,r.bF)(ct,{footer:"Total",footerStyle:"text-align:right"}),(0,r.bF)(ct,{footer:rt.formatPrice(c.deptsTotal),footerStyle:"text-align:right"},null,8,["footer"]),(0,r.bF)(ct,{footer:""})])),_:1})])),_:1})])),_:1},8,["value","exportFilename"]),(0,r.Lk)("div",J,[(0,r.Lk)("ul",null,[(0,r.Lk)("li",Z,[(0,r.eW)("Department Total($): "),(0,r.Lk)("span",tt,(0,a.v_)(rt.formatPrice(c.deptsTotal)),1)]),(0,r.Lk)("li",null,[(0,r.eW)("Member & VIP Discount($): "),(0,r.Lk)("span",null,"-"+(0,a.v_)(rt.formatPrice(rt.deptsDiscount)),1)]),(0,r.Lk)("li",null,[(0,r.eW)("Taxes($): "),(0,r.Lk)("span",null,(0,a.v_)(rt.formatPrice(c.deptsTax)),1)]),(0,r.Lk)("li",null,[(0,r.eW)("Total Accounted For($):"),(0,r.Lk)("span",et,(0,a.v_)(rt.formatPrice(c.deptsTotal-rt.deptsDiscount+c.deptsTax)),1)])]),c.depts.length>0?((0,r.uX)(),(0,r.CE)("div",nt,[(0,r.bF)(ft,{options:rt.setDoughnutChartOptions,series:c.deptsAmount},null,8,["options","series"])])):(0,r.Q3)("",!0)])])])):(0,r.Q3)("",!0)],4)])])}n(8743);var at=n(953),ot=n(4335),it=n(5093),st=n.n(it),lt=n(9121),ct=n(5987),pt={__name:"Dropdown",setup(t){const e=(0,at.KR)(!1),n=(0,at.KR)(null),i=()=>{e.value=!e.value},s=t=>{n.value&&!n.value.contains(t.target)&&(e.value=!1)};return(0,r.sV)((()=>{document.addEventListener("click",s)})),(0,r.hi)((()=>{document.removeEventListener("click",s)})),(t,s)=>((0,r.uX)(),(0,r.CE)("div",{ref_key:"customPopup",ref:n},[(0,r.Lk)("div",{class:(0,a.C4)(!1===e.value?"close":"open"),onClick:i},[(0,r.RG)(t.$slots,"header")],2),(0,r.bF)(o.eB,{name:"expand"},{default:(0,r.k6)((()=>[e.value?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"popup-content",onClick:s[0]||(s[0]=(0,o.D$)((()=>{}),["stop"]))},[(0,r.Lk)("div",null,[(0,r.RG)(t.$slots,"content")])])):(0,r.Q3)("",!0)])),_:3})],512))}};const ut=pt;var dt=ut,ft=n(5011),ht={components:{Header:lt.A,Popup:ct.A,Dropdown:dt,DatePicker:ft.A},setup(){const t=(0,at.Kh)({expandedRows:{}}),e=e=>{const n=e in t.expandedRows;n?delete t.expandedRows[e]:t.expandedRows[e]=!0,t.expandedRows={...t.expandedRows}};return{state:t,onExpandRow:e}},data(){return{windowHeight:window.innerHeight,isFilterActive:!0,empty:!0,storeName:localStorage.getItem("StoreName"),loading:!1,displayType:"D",mkts:[],depts:[],deptsId:[],deptsAmount:[],deptsDisplay:[],deptsTax:"",deptsTotal:"",startDate:"",endDate:"",rptStartDate:"",rptEndDate:"",stn:"",cashier:"",companies:[{id:1027,companyName:"Apple Supermarket 1"},{id:1221,companyName:"Apple Supermarket 2"}],selectedCompanies:"",searchStores:[],storesDetail:!1,invalidSearch:!1,dateRange:!1}},mounted(){var t=document.querySelector("#store-selection"),e="All stores selected";t.innerHTML=e;const n=st()();this.startDate=st()(n.startOf("day")).set("date",n.get("date")-1).toDate(),this.rptStartDate=this.startDate,this.rptEndDate=this.startDate,this.selectedCompanies=this.companies;var r=[];for(let a=0;a<this.selectedCompanies.length;a++)r.push(this.selectedCompanies[a].id);this.filterData={sDate:this.rptStartDate,eDate:this.rptEndDate,mktids:r},ot.A.post("https://cloudbackofficereportapidev.azurewebsites.net/Report/StoreSales",this.filterData,{headers:{marketid:r[0]}}).then((t=>{this.mkts=t.data.datas})).catch((t=>console.log(t.response))).finally((()=>{this.loading=!1,this.empty=!1})),this.$nextTick((()=>{window.addEventListener("resize",this.onResize)}))},beforeDestroy(){window.removeEventListener("resize",this.onResize)},methods:{toggleFilter(){this.isFilterActive=!this.isFilterActive},formatPrice(t){if(!t||0==t)return"0.00";let e=(t/1).toFixed(2).replace(",",".");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},formatNumber(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},formatDate(t){return st()(t).format("MMM DD, yyyy")},exportCSV(){this.$refs.dt.exportCSV()},selectedStore(){var t="Nothing selected",e=document.querySelector("#store-selection");1==this.selectedCompanies.length?t=this.selectedCompanies[0].companyName:this.selectedCompanies.length>1&&!this.selectAllCompanies?t=this.selectedCompanies.length+" stores selected":this.selectAllCompanies&&(t="All stores selected"),e.innerHTML=t},getName(t){return"1027"==t?"Apple Supermarket 1":"1221"==t?"Apple Supermarket 2":void 0},selectedDisplayType(){if("D"==this.displayType&&(this.startDate=""),"W"==this.displayType){let t=new Date,e=t.getDate()-t.getDay(),n=e+6;this.startDate=[new Date(t.setDate(e)),new Date(t.setDate(n))]}"M"==this.displayType&&(this.startDate={month:(new Date).getMonth(),year:(new Date).getFullYear()}),"Y"==this.displayType&&(this.startDate=(new Date).getFullYear());var t="Nothing selected",e=document.querySelector('input[name="display_type"]:checked'),n=document.querySelector("#display-selection");e&&(t=document.querySelector('label[for="'+e.id+'"]').innerHTML),n.innerHTML=t},searchWithFilter(){if(this.storesDetail=!1,this.selectedCompanies.length>0){this.loading=!0,this.isFilterActive=!1,this.depts=[],"D"==this.displayType&&(this.rptStartDate=st()(this.startDate).format("YYYY-MM-DD"),this.endDate="",this.rptEndDate=st()(this.startDate).format("YYYY-MM-DD")),"W"==this.displayType&&(this.rptStartDate=this.startDate[0],this.endDate=this.startDate[1],this.rptEndDate=this.endDate),"M"==this.displayType&&(this.rptStartDate=new Date(this.startDate.year,this.startDate.month,1),this.endDate=new Date(this.startDate.year,this.startDate.month+1,0),this.rptEndDate=this.endDate),"Y"==this.displayType&&(this.rptStartDate=new Date(this.startDate,0,1),this.endDate=new Date(this.startDate,11,31),this.rptEndDate=this.endDate);var t=[];for(let e=0;e<this.selectedCompanies.length;e++)t.push(this.selectedCompanies[e].id);this.filterData={sDate:this.rptStartDate,eDate:this.rptEndDate,mktids:t},ot.A.post("https://cloudbackofficereportapidev.azurewebsites.net/Report/StoreSales",this.filterData,{headers:{marketid:t[0]}}).then((t=>{this.mkts=t.data.datas})).catch((t=>console.log(t.response))).finally((()=>{this.loading=!1,this.empty=!1}))}else this.invalidSearch=!0},getSalesDetail(t,e,n){n>0&&(this.storesDetail=!0),this.loading=!0,this.depts=[],this.storeName=this.getName(t),ot.A.get("https://cloudbackofficereportapidev.azurewebsites.net/Report/Department",{headers:{marketid:t},params:{sDate:this.rptStartDate,eDate:this.rptEndDate}}).then((t=>{this.depts=t.data.datas.deptSummaries,this.deptsTax=t.data.datas.tax,this.deptsTotal=t.data.datas.total;for(let e=0;e<this.depts.length;e++)this.deptsId[e]=t.data.datas.deptSummaries[e].dep_no,this.deptsDisplay[e]=t.data.datas.deptSummaries[e].dep_name,this.deptsAmount[e]=t.data.datas.deptSummaries[e].amount})).catch((t=>console.log(t.response))).finally((()=>{this.loading=!1,this.empty=!1}))},back(){this.storesDetail=!1}},computed:{selectAllCompanies:{get:function(){return!!this.companies&&this.selectedCompanies.length==this.companies.length},set:function(t){var e=[];t&&this.companies.forEach((function(t){e.push(t)})),this.selectedCompanies=e}},fileName(){let t=this.$route.name+" "+this.startDate+"-"+this.endDate;return t},deptsDiscount(){let t=0;for(let e of this.depts)t+=e.discount;return t},storesTotalSale(){return this.mkts.total},setDoughnutChartOptions(){return{chart:{type:"donut",fontFamily:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif'},labels:this.deptsDisplay,colors:["#72f9b4","#07e2f6","#00baff","#c6e430","#2ad4e3","#e329e2","#e6a4f0","#8964e8","#aaa0ff","#c4e328","#00bdf6","#fd9106","#efefef","#2c990f"],legend:{position:"bottom",floating:!0},responsive:[{breakpoint:1320,options:{legend:{floating:!1},chart:{height:1e3}}}],dataLabels:{formatter:function(t){return t.toFixed(2)+"%"},style:{fontSize:"15px"}},tooltip:{enabled:!1},states:{hover:{filter:{type:"none"}}},plotOptions:{pie:{expandOnClick:!1,donut:{size:"55%",labels:{show:!0,value:{fontSize:"16px"},total:{show:!0,label:"Department Total",color:"#373d3f",formatter:function(t){return t.globals.seriesTotals.reduce(((t,e)=>t+e),0).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}}}}}}}}},yt=n(6262);const mt=(0,yt.A)(ht,[["render",rt]]);var vt=mt}}]);
//# sourceMappingURL=954.21b58698.js.map