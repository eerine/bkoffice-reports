"use strict";(self["webpackChunkvue_moleq_backoffice"]=self["webpackChunkvue_moleq_backoffice"]||[]).push([[909],{9121:function(e,t,o){o.d(t,{A:function(){return b}});var n=o(641),a=o(33);const s={class:"header-wrapper"},c={class:"title bold-600"};function r(e,t,o,r,l,i){return(0,n.uX)(),(0,n.CE)("div",s,[(0,n.Lk)("h3",c,(0,a.v_)(e.$t("header."+this.$route.name)),1)])}const l={class:"lang-wrapper"};function i(e,t,o,a,s,c){return(0,n.uX)(),(0,n.CE)("div",l,["en"==a.locale?((0,n.uX)(),(0,n.CE)("button",{key:0,class:"lang-btn",onClick:t[0]||(t[0]=e=>a.setLanguage("ch"))},"EN")):(0,n.Q3)("",!0),"ch"==a.locale?((0,n.uX)(),(0,n.CE)("button",{key:1,class:"lang-btn",onClick:t[1]||(t[1]=e=>a.setLanguage("en"))},"ä¸­")):(0,n.Q3)("",!0)])}var h=o(4300),u={setup(){const{locale:e}=h.A.global,t=t=>{e.value=t,localStorage.setItem("lang",t)};return(0,n.nT)((()=>{const t=localStorage.getItem("lang");t&&(e.value=t)})),{locale:e,setLanguage:t}}},g=o(6262);const m=(0,g.A)(u,[["render",i]]);var d=m,S=o(9270),p=o(6405),f=o.n(p),I={name:"item-header",components:{LanguageSwitcher:d},setup(){const{t:e}=h.A.global;return{t:e}},data(){return{auth:new S.A,selectedStore:1027,companies:[],hideUserMenu:!1}},created(){new(f().UserManager)({response_mode:"query"}).signinRedirectCallback().then((function(){window.location.href="/bkoffice-reports"})).catch((function(e){}))},mounted(){localStorage.getItem("StoreID")||(localStorage.setItem("StoreID",1027),localStorage.setItem("StoreName","J Mart(NY-Brooklyn)")),this.selectedStore=localStorage.getItem("StoreID");const e=new URLSearchParams(window.location.search),t=e.get("code");if(t)new(f().UserManager)({response_mode:"query"}).signinRedirectCallback().then((function(){window.location.href="/bkoffice-reports"})).catch((function(e){}));else{this.auth.userIdentity().then((e=>{this.companies=e.companies,localStorage.setItem("companies",JSON.stringify(this.companies)),localStorage.getItem("StoreID")||localStorage.setItem("StoreID",e.companies[0].id),this.selectedStore=localStorage.getItem("StoreID");for(let t=0;t<this.companies.length;t++)this.companies[t].id==this.selectedStore&&localStorage.setItem("StoreName",this.companies[t].companyName)}),(e=>{this.auth.login(),console.log(e)}))}},methods:{changeStore(){localStorage.setItem("StoreID",this.selectedStore);for(let e=0;e<this.companies.length;e++)this.companies[e].id==this.selectedStore&&localStorage.setItem("StoreName",this.companies[e].name);window.location.reload()},logUserIn(){this.auth.login()},accessToken(){this.auth.accessToken().then((e=>{this.loginAccessToken=e,localStorage.setItem("LoginAccessToken",this.loginAccessToken)}),(e=>{console.log(e)}))},userIdentity(){this.auth.userIdentity().then((e=>{this.companies=e.companies,this.selectedLocation=e.companies[0].id}),(e=>{console.log(e),this.auth.login()}))},logUserOut(){localStorage.removeItem("LoginAccessToken"),this.auth.logout()}}};const k=(0,g.A)(I,[["render",r],["__scopeId","data-v-053b3a84"]]);var b=k},7909:function(e,t,o){o.r(t),o.d(t,{default:function(){return u}});var n=o(641);const a={class:"container"},s=(0,n.Lk)("h1",null,"This is an reports page",-1);function c(e,t,o,c,r,l){const i=(0,n.g2)("Header");return(0,n.uX)(),(0,n.CE)("div",a,[(0,n.bF)(i),s])}var r=o(9121),l={components:{Header:r.A}},i=o(6262);const h=(0,i.A)(l,[["render",c]]);var u=h}}]);
//# sourceMappingURL=909.61f23d5d.js.map